@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

:root {
    --bg-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    --card-bg: rgba(255, 255, 255, 0.95);
    --text-color: #2d3436;
    --text-secondary: #636e72;
    --primary-color: #6c5ce7;
    --primary-hover: #5649c0;
    --success-color: #00b894;
    --danger-color: #ff7675;
    --warning-color: #fdcb6e;
    --input-bg: #f1f2f6;
    --input-border: #dfe6e9;
    --border-radius: 16px;
    --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    --font-family: 'Poppins', sans-serif;
    color-scheme: light; 
}

body.dark-mode {
    --bg-gradient: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
    --card-bg: rgba(30, 39, 46, 0.95);
    --text-color: #dfe6e9;
    --text-secondary: #b2bec3;
    --primary-color: #a29bfe;
    --primary-hover: #8e84f5;
    --input-bg: #2d3436;
    --input-border: #4a5356;
    --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    color-scheme: dark; 
}

* { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
body { background: var(--bg-gradient); font-family: var(--font-family); color: var(--text-color); display: flex; justify-content: center; min-height: 100vh; padding: 40px 20px; transition: all 0.3s ease; background-attachment: fixed; }
.container { width: 100%; max-width: 1200px; margin: 0 auto; }

/* HEADER */
header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; padding: 0 10px; }
header h1 { font-size: 28px; font-weight: 700; background: -webkit-linear-gradient(45deg, var(--primary-color), var(--success-color)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; display: flex; align-items: center; gap: 10px; }
header h1 i { -webkit-text-fill-color: var(--primary-color); }
.theme-btn { background: var(--card-bg); border: none; color: var(--text-color); width: 45px; height: 45px; border-radius: 50%; cursor: pointer; font-size: 20px; box-shadow: var(--shadow); transition: transform 0.2s, box-shadow 0.2s; display: grid; place-items: center; }
.theme-btn:hover { transform: translateY(-2px); box-shadow: 0 15px 35px rgba(0,0,0,0.15); }

/* CARDS */
.card, .filter-container, .form-section { background: var(--card-bg); border-radius: var(--border-radius); box-shadow: var(--shadow); padding: 25px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
input, select { background-color: var(--input-bg); border: 2px solid transparent; border-radius: 12px; padding: 12px 15px; font-family: var(--font-family); color: var(--text-color); width: 100%; font-size: 14px; transition: 0.3s; cursor: pointer; }
input:focus, select:focus { border-color: var(--primary-color); background-color: var(--card-bg); }

/* MENU CUSTOMIZADO (SEM FUNDO BRANCO) */
.custom-select-wrapper { position: relative; width: 100%; cursor: pointer; }
.select-trigger { background-color: var(--input-bg); border: 2px solid transparent; border-radius: 12px; padding: 12px 15px; font-family: var(--font-family); color: var(--text-color); display: flex; justify-content: space-between; align-items: center; transition: 0.3s; height: 48px; }
.select-trigger:hover { border-color: var(--primary-color); }
.options-list { position: absolute; top: 110%; left: 0; width: 100%; background: var(--card-bg); border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1); z-index: 100; max-height: 200px; overflow-y: auto; display: none; }
.options-list.open { display: block; }
.option-item { padding: 12px 15px; cursor: pointer; transition: 0.2s; border-bottom: 1px solid var(--input-border); }
.option-item:last-child { border-bottom: none; }
.option-item:hover { background-color: var(--primary-color); color: white; }
.options-list::-webkit-scrollbar { width: 6px; }
.options-list::-webkit-scrollbar-thumb { background: var(--text-secondary); border-radius: 10px; }

/* FILTROS */
.filter-container { display: flex; flex-wrap: wrap; gap: 15px; align-items: center; margin-bottom: 30px; padding: 15px 25px; }
.filter-group { display: flex; align-items: center; gap: 10px; color: var(--text-secondary); }
.search-group { flex: 1; min-width: 200px; position: relative; }
.search-group input { padding-left: 40px; cursor: text; }
.search-group i { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--text-secondary); }
.btn-small { padding: 10px 18px; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; font-size: 13px; display: flex; align-items: center; gap: 8px; transition: 0.2s; }
.btn-ghost { background: var(--input-bg); color: var(--text-secondary); }
.btn-ghost:hover { background: rgba(0,0,0,0.05); } 
.btn-green { background: var(--success-color); color: white; box-shadow: 0 4px 10px rgba(0, 184, 148, 0.3); }
.btn-green:hover { transform: translateY(-2px); box-shadow: 0 6px 15px rgba(0, 184, 148, 0.4); }

/* DASHBOARD */
.balance-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 25px; margin-bottom: 30px; }
.card h3 { font-size: 13px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; font-weight: 600; }
.card .money { font-size: 28px; font-weight: 700; }
.plus { color: var(--success-color); }
.minus { color: var(--danger-color); }
.total-card { background: linear-gradient(135deg, #6c5ce7, #a29bfe); color: white !important; }
.total-card h3, .total-card .money { color: white !important; }
.icon-bg { position: absolute; right: 20px; bottom: 20px; font-size: 45px; opacity: 0.05; color: var(--text-color); }

/* META */
.budget-container { margin-bottom: 30px; position: relative; overflow: hidden; }
.budget-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 15px; }
.budget-input-group input { width: 110px; text-align: right; padding: 5px; background: transparent; border: 1px dashed var(--input-border); font-size: 16px; font-weight: bold; }
.progress-bar-bg { background: var(--input-bg); border-radius: 20px; height: 16px; width: 100%; overflow: hidden; margin-bottom: 8px; box-shadow: inset 0 2px 5px rgba(0,0,0,0.05); }
.progress-bar-fill { height: 100%; border-radius: 20px; width: 0%; transition: width 1s cubic-bezier(0.4, 0, 0.2, 1); }

/* OBJETIVOS */
.goals-section { margin-bottom: 30px; }
.section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; color: var(--text-color); }
.goals-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
.goal-card { background: var(--card-bg); padding: 20px; border-radius: var(--border-radius); box-shadow: var(--shadow); border: 1px solid rgba(255,255,255,0.1); transition: transform 0.2s; }
.goal-card:hover { transform: translateY(-3px); }
.goal-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
.goal-title { font-weight: 700; color: var(--primary-color); }
.goal-target { font-size: 13px; color: var(--text-secondary); }
.goal-progress-bg { background: var(--input-bg); height: 10px; border-radius: 10px; width: 100%; margin: 15px 0; overflow: hidden; }
.goal-progress-fill { height: 100%; background: linear-gradient(90deg, var(--primary-color), var(--success-color)); width: 0%; transition: width 1s ease; }
.goal-stats { display: flex; justify-content: space-between; font-size: 12px; color: var(--text-secondary); margin-bottom: 15px; }
.stat-money { font-weight: 700; color: var(--text-color); }
.goal-breakdown { display: flex; gap: 10px; font-size: 11px; background: var(--input-bg); padding: 8px; border-radius: 8px; margin-bottom: 15px; }
.break-item { display: flex; align-items: center; gap: 4px; flex: 1; justify-content: center; }
.goal-actions { display: flex; gap: 10px; }
.btn-deposit { flex: 1; background: var(--primary-color); color: white; border: none; padding: 8px; border-radius: 8px; cursor: pointer; font-size: 13px; font-weight: 600; }
.btn-delete-goal { background: rgba(255, 118, 117, 0.1); color: var(--danger-color); border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer; }

/* DASHBOARD GRID */
.dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 25px; margin-bottom: 30px; }
.chart-card h3 { text-align: center; border-bottom: 1px solid var(--input-border); padding-bottom: 15px; margin-bottom: 20px; }
.chart-controls { background: var(--input-bg); padding: 5px; border-radius: 30px; display: inline-flex; margin-bottom: 15px; }
.toggle-option span { padding: 6px 16px; border-radius: 20px; font-size: 12px; cursor: pointer; font-weight: 600; transition: 0.3s; }
.toggle-option input:checked + span { background: var(--card-bg); color: var(--primary-color); box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
#top-expenses-list { list-style: none; }
.top-item { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--input-border); font-size: 14px; }
.top-cat { font-weight: 500; }
.top-val { font-weight: 700; color: var(--danger-color); }

/* LISTA & FORM */
.main-grid { display: grid; grid-template-columns: 1.6fr 1fr; gap: 30px; }
@media (max-width: 900px) { .main-grid { grid-template-columns: 1fr; } }
.list { list-style: none; max-height: 550px; overflow-y: auto; padding-right: 10px; }
.list li { background: var(--card-bg); color: var(--text-color); display: flex; justify-content: space-between; align-items: center; padding: 18px 20px; margin-bottom: 15px; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.03); border-left: 6px solid transparent; transition: transform 0.2s; position: relative; overflow: hidden; }
.list li:hover { transform: translateX(5px); }
.list li.plus { border-left-color: var(--success-color); }
.list li.minus { border-left-color: var(--danger-color); }
.list li.pending { opacity: 0.7; background: var(--bg-gradient); border-left-color: var(--text-secondary); filter: grayscale(0.8); }
.info strong { display: block; font-size: 15px; margin-bottom: 4px; }
.category-tag { font-size: 12px; color: var(--text-secondary); display: flex; align-items: center; gap: 5px; }
.list-actions { display: flex; gap: 12px; margin-left: 15px; }
.action-btn { background: transparent; border: none; cursor: pointer; font-size: 16px; transition: 0.2s; padding: 5px; }
.edit-btn { color: var(--warning-color); } .delete-btn { color: var(--danger-color); } .advance-btn { color: var(--primary-color); } .pay-btn { color: var(--text-secondary); font-size: 20px; }
.pay-btn:hover { color: var(--success-color); }

/* FORM & BUTTONS */
.form-section h3 { margin-bottom: 20px; color: var(--primary-color); display: flex; align-items: center; gap: 10px; }
.form-control { margin-bottom: 20px; }
.form-row { display: flex; gap: 15px; } .form-row .form-control { flex: 1; }
label { margin-bottom: 8px; font-size: 13px; font-weight: 600; color: var(--text-secondary); }
.btn { cursor: pointer; background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-hover) 100%); color: #fff; border: 0; display: block; font-size: 16px; padding: 15px; width: 100%; border-radius: 12px; font-weight: 600; margin-top: 15px; box-shadow: 0 5px 15px rgba(108, 92, 231, 0.4); transition: 0.3s; }
.btn:hover { transform: translateY(-2px); }
.checkbox-control { display: flex; align-items: center; gap: 12px; background: var(--input-bg); padding: 12px; border-radius: 12px; margin-bottom: 15px; }
.checkbox-control input { width: 20px; height: 20px; accent-color: var(--primary-color); cursor: pointer; }
.recurrence-section { border-top: 1px dashed var(--input-border); padding-top: 20px; margin-top: 10px; }
.btn-add-cat { background: transparent; border: 2px dashed var(--input-border); border-radius: 12px; width: 45px; height: 48px; display: grid; place-items: center; cursor: pointer; color: var(--text-secondary); transition: 0.3s; }
.btn-add-cat:hover { border-color: var(--primary-color); color: var(--primary-color); background: rgba(108, 92, 231, 0.05); }

/* MODAL */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(5px); display: flex; justify-content: center; align-items: center; z-index: 3000; animation: fadeIn 0.3s; }
.modal-content { background: var(--card-bg); padding: 30px; border-radius: 20px; width: 90%; max-width: 400px; box-shadow: 0 20px 50px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); transform: scale(0.9); animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
.modal-content h3 { margin-bottom: 20px; color: var(--primary-color); text-align: center; }
.modal-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } } @keyframes popIn { to { transform: scale(1); } }
.hidden { display: none !important; }

/* TOAST */
#toast-container { position: fixed; top: 30px; right: 30px; z-index: 2000; display: flex; flex-direction: column; gap: 15px; }
.toast { background: var(--card-bg); color: var(--text-color); padding: 16px 24px; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 15px; min-width: 300px; border-left: 6px solid; font-weight: 500; animation: slideIn 0.4s forwards; }
.toast.success { border-left-color: var(--success-color); } .toast.error { border-left-color: var(--danger-color); } .toast.info { border-left-color: var(--primary-color); }
@keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } } @keyframes fadeOut { to { opacity: 0; transform: translateX(20%); } }

/* SCROLLBAR */
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: var(--input-bg); border-radius: 10px; }
::-webkit-scrollbar-thumb { background: var(--text-secondary); border-radius: 10px; border: 3px solid var(--input-bg); }
::-webkit-scrollbar-thumb:hover { background: var(--primary-color); }